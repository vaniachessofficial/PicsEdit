:root{
  --bg-dark:#03091b;
  --panel:#061427;
  --accent:#7dd3fc;
  --text:#eef6ff;
  --btn-top:#0b3b7a;
  --btn-bottom:#00121a;
  --btn-text: var(--text);
  --star-color: rgba(255,255,255,0.9);
  --input-bg: #071a34;
  --input-text: #eef6ff;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Arial, sans-serif;color:var(--text)}
body.theme-light{ --bg-dark:#f4f7fb; --panel:#ffffff; --accent:#1f6feb; --text:#102027; --btn-top:#e6f0ff; --btn-bottom:#dfe9f8; --btn-text:#102027; --star-color: rgba(0,0,0,0.6); --input-bg:#071a34; --input-text:#eef6ff }

#main-menu{position:fixed;inset:0;background:linear-gradient(180deg,var(--bg-dark) 0%, var(--panel) 65%);overflow:hidden;display:flex;align-items:center;justify-content:center;z-index:1000}
#main-menu canvas#stars{position:absolute;inset:0;z-index:0;pointer-events:none}
#menu-content{position:relative;z-index:2;text-align:center;padding:40px;border-radius:12px}
#logo-wrap{position:absolute;top:18px;left:24px;z-index:3}
#logo{height:48px}
#menu-content h1{font-size:56px;margin:0 0 8px}
.tagline{opacity:.85;margin-bottom:20px}
.menu-buttons button{display:inline-block;margin:0 8px;padding:12px 20px;border-radius:8px;border:0;background:linear-gradient(180deg,#0b3b7a 0%, #00121a 100%);color:var(--text);cursor:pointer}
.menu-buttons button{display:inline-flex;margin:0 8px;padding:12px 20px;border-radius:8px;border:0;background:linear-gradient(180deg,var(--btn-top) 0%, var(--btn-bottom) 100%);color:var(--btn-text);cursor:pointer;align-items:center;justify-content:center;box-sizing:border-box;min-width:130px;height:44px}
.workspace-actions button, .import-label, .tool, button, .modal .modal-actions button, #scene-toolbar button{
  font-family: 'Montserrat', Arial, sans-serif;
}
.workspace-actions button, .import-label, .tool, button, .modal .modal-actions button, #scene-toolbar button{
  font-family: 'Montserrat', Arial, sans-serif;
  color: var(--btn-text);
}

/* workspace header buttons and file-label styled like other buttons */
.workspace-actions button, .import-label, .tool{display:inline-block;margin-left:8px;padding:8px 14px;border-radius:8px;border:0;background:linear-gradient(180deg,var(--btn-top) 0%, var(--btn-bottom) 100%);color:var(--btn-text);cursor:pointer;text-decoration:none}
.workspace-actions{display:flex;gap:8px;align-items:center;justify-content:flex-end;flex-wrap:wrap}
/* normalize header buttons to same size and style */
.workspace-actions button, .workspace-actions .import-label, .workspace-actions .tool{display:inline-flex;align-items:center;justify-content:center;height:36px;min-width:110px;padding:8px 12px;font-size:14px;box-sizing:border-box}
.import-label, .tool{height:36px}
.workspace-actions button, .workspace-actions .import-label, .workspace-actions .tool{transition:transform .12s ease, box-shadow .12s ease}

/* left tools buttons should use the same button styling and be readable in dark mode */
#left-tools button, #left-tools .tool, #left-tools .control button { background: linear-gradient(180deg,var(--btn-top) 0%, var(--btn-bottom) 100%); color: var(--btn-text); border:0; padding:8px 12px; height:36px; border-radius:8px; cursor:pointer }
#left-tools button:hover, #left-tools .tool:hover, #left-tools .control button:hover, .workspace-actions button:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 8px 20px rgba(0,0,0,0.35) }
/* Prevent main menu buttons from scaling on hover to avoid jitter and loss of clickability */
.menu-buttons button{transition:filter .12s ease, box-shadow .12s ease}
.menu-buttons button:hover{transform:none}

/* subtle hover for inputs and labels */
label.import-label:hover, .tool:hover { transform: translateY(-1px) }
.import-label input, .tool input[type=file]{display:none}
.menu-hint{margin-top:14px;color:rgba(255,255,255,0.6)}

.hidden{display:none !important}

#workspace{height:100vh;display:flex;flex-direction:column;background:var(--bg-dark);position:relative;z-index:10}
header{display:flex;justify-content:space-between;padding:8px 12px;background:var(--panel);align-items:center}
#editor-area{flex:1;display:flex;overflow:hidden}
#left-tools, #right-panel{width:220px;padding:12px;background:var(--panel);overflow:auto}
#left-tools{min-height:calc(100vh - 120px)}
#scene-wrap{flex:1;display:flex;align-items:center;justify-content:center;padding:12px}
#scene{width:80%;height:80%;background:linear-gradient(180deg,var(--panel), var(--bg-dark));border:1px solid rgba(255,255,255,0.03);position:relative;overflow:hidden}

#scene-wrap{position:relative}

/* scene toolbar */
#scene-toolbar{position:absolute;top:12px;left:50%;transform:translateX(-50%);z-index:40;background:rgba(0,0,0,0.35);padding:6px;border-radius:8px;display:flex;gap:6px}
#scene-toolbar button{background:linear-gradient(180deg,var(--btn-top) 0%, var(--btn-bottom) 100%);border:0;color:var(--btn-text);padding:6px 8px;border-radius:6px;cursor:pointer}
/* normalize floating toolbar buttons */
#scene-toolbar button{display:inline-flex;align-items:center;justify-content:center;height:36px;min-width:36px;padding:0 8px}
#scene-toolbar button:hover, .menu-buttons button:hover{filter:brightness(1.08)}

/* resize handle */
.resize-handle{position:absolute;right:6px;bottom:6px;width:14px;height:14px;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.18);border-radius:2px;cursor:se-resize;z-index:30}
.scene-object{touch-action:none}

.import-label input{display:none}

/* make text inputs dark-blue background and theme-aware */
input, textarea, select { background: var(--input-bg); color: var(--input-text); border: 1px solid rgba(255,255,255,0.06); padding:6px; border-radius:6px }
input::placeholder{ color: rgba(255,255,255,0.6) }
input[type=color], input[type=number], input[type=range]{ background: var(--input-bg); color: var(--input-text); }
select { color: var(--input-text) }
/* Stronger enforcement for dark theme and tricky native controls */
input, textarea, select, input[type="color"], input[type="number"], input[type="range"], input[type="search"] {
  background: var(--input-bg) !important;
  color: var(--input-text) !important;
  border-color: rgba(0,0,0,0.12) !important;
  -webkit-appearance: none;
  appearance: none;
}
/* Placeholder color (light-on-dark) */
::placeholder { color: rgba(255,255,255,0.6); }
/* Remove default swatch styling for color inputs on WebKit */
input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
input[type="color"]::-webkit-color-swatch { border: none; background: transparent; }
/* ensure modals and forms use readable text on their backgrounds */
.modal .modal-inner { color: var(--text); }

/* context menu */
.pc-context-menu{position:fixed;z-index:9999;background:var(--panel);border-radius:6px;padding:6px;box-shadow:0 6px 24px rgba(0,0,0,0.6);min-width:160px}
.pc-context-menu button{display:block;width:100%;text-align:left;padding:8px;background:transparent;border:0;color:var(--text);cursor:pointer}
.pc-context-menu button:hover{background:rgba(255,255,255,0.03)}

.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45)}
.modal .modal-inner{background:var(--panel);padding:18px;border-radius:8px;min-width:320px}
.modal .modal-actions{margin-top:12px;text-align:right}
.modal .modal-actions button{margin-left:8px}
.modal.show{display:flex;z-index:2100}

.tool input[type=file]{display:block;margin-top:8px}

#library img{width:64px;height:64px;margin:6px;cursor:pointer;border-radius:6px;border:1px solid rgba(255,255,255,0.06)}

.scene-object{position:absolute;touch-action:none;cursor:move;display:inline-block}
.scene-object img{display:block;max-width:100%;max-height:100%}
.selected{outline:2px dashed var(--accent)}

/* small responsive tweaks */
@media(max-width:900px){#left-tools,#right-panel{display:none} #scene{width:100%;height:calc(100vh - 100px)}}
